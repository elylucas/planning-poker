{"version":3,"sources":["../src/rooms.js"],"names":[],"mappings":";;;;;QAEgB,UAAU,GAAV,UAAU;QAYV,QAAQ,GAAR,QAAQ;;;;AAZjB,SAAS,UAAU,CAAC,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE;AAC9C,MAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,eAHT,MAAM,EAGU;AAC7B,MAAE,EAAE,MAAM;AACV,SAAK,EAAE,CAAC,IAAI,CAAC;GACd,CAAC,CAAC,CAAC;AACN,SAAO,QAAQ,CAAC;CACjB;;AAED,IAAI,gBAAgB,GAAG,eAVf,GAAG,EAUgB,eAVR,MAAM,EAUS;AAChC,OAAK,EAAE,eAXD,GAAG,GAWG;CACb,CAAC,CAAC,CAAC;;AAEG,SAAS,QAAQ,CAAC,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE;;AAE5C,MAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,UAAA,IAAI;WAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,MAAM;GAAA,CAAC,CAAC;AACzD,MAAI,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACpC,MAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,eAlBhC,GAAG,EAkBiC,IAAI,CAAC,CAAC,CAAC;AACjD,MAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;AAC1C,MAAI,QAAQ,GAAG,KAAK,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;AAC7C,SAAO,QAAQ,CAAC;CACjB","file":"rooms.js","sourcesContent":["import {Map, List, fromJS} from 'immutable';\n\nexport function createRoom(rooms, roomId, user) {\n  let newRooms = rooms.push(fromJS({\n      id: roomId,\n      users: [user]\n    }));\n  return newRooms;\n}\n\nvar initialRoomState = Map(fromJS({\n  users: Map()\n}));\n\nexport function joinRoom(rooms, roomId, user) {\n  //var newRooms = rooms.setIn([roomId, 'users', user.id], Map(user));\n  var room = rooms.find(room => room.get('id') === roomId);\n  var roomIndex = rooms.indexOf(room);\n  var newUsers = room.get('users').push(Map(user));\n  var newRoom = room.set('users', newUsers);\n  var newRooms = rooms.set(roomIndex, newRoom);\n  return newRooms;\n}\n"]}